# 시뮬레이터와 C 코드의 연결 PLI
Verilog로 하드웨어 설계를 시뮬레이션하다 보면 가끔 Verilog만으로 해결하기 어려운 작업을 해야 할 때가 있습니다. 예를 들어 복잡한 계산을 해야 하거나, 운영체제 기능(파일 입출력, 소켓 통신 등)을 활용해야 한다면 어떻게 할까요? 바로 이럴 때 **PLI(Programming Language Interface)** 가 등장합니다. PLI는 Verilog 시뮬레이터와 C 언어 프로그램을 연결해주는 인터페이스입니다. 쉽게 말해 Verilog 코드에서 C/C++ 함수를 불러 쓸 수 있게 해주는 다리 역할을 합니다. Verilog 만으로는 불가능하거나 번거로운 작업들을 PLI를 통해 외부 언어의 힘을 빌려 해결하는 겁니다.

**언제 PLI를 사용하는가?** 가장 흔한 경우는 Verilog로 작성한 테스트벤치에서 보다 강력한 기능이 필요할 때입니다. Verilog에서는 복잡한 문자열 처리나 고급 수학 연산이 불편한데, 이럴 때 C로 구현된 함수를 PLI로 호출하면 문제를 쉽게 해결 가능합니다. 또 다른 예시로, 시뮬레이터 밖의 프로그램과 데이터를 주고 받도록 만들 수도 있습니다. PLI를 사용하면 Verilog 시뮬레이터에 사용자가 만든 C 함수를 마치 Verilog의 내장 시스템 함수(`$display` 등)처럼 호출할 수 있습니다. 

- **복잡한 기능 구현**:
  Verilog에서 힘든 복잡한 알고리즘이나 계산을 C/C++로 구현해 놓고 호출할 때
- **고급 입출력**:
  파일 읽기/쓰기나 소켓 통신처럼 Verilog가 직접 할 수 없는 일을 수행할 때
- **외부 모델 연동**:
  다른 시뮬레이터나 소프트웨어와 함께 동작시키고 싶을 때

다만 PLI는 설정과 사용법이 조금 복잡하다는 단점이 있습니다. C 코드를 별도로 작성해 컴파일하고, 그 결과를 시뮬레이터에 로드하는 과정이 필요하기 때문입니다.
그래도 한때는 PLI가 Verilog에서 외부와 연동하는 유일한 방법이었고, 현재도 특정 툴이나 기존 코드에서 쓰이고 있다고 합니다.

다음은 [[VPI]]나 SystemVerilog의 [[DPI]]에 대해서 다루겠습니다.